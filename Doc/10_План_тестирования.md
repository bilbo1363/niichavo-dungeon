# План тестирования

## 1. Цели тестирования

### 1.1 Основные цели
- Проверка всех игровых механик
- Выявление багов и ошибок
- Проверка баланса игры
- Оценка производительности
- Тестирование пользовательского опыта

### 1.2 Критерии успеха
- Все критические баги исправлены
- Игра проходима от начала до конца
- FPS стабильно выше 30
- Нет вылетов и зависаний
- Сохранения работают корректно

---

## 2. Виды тестирования

### 2.1 Функциональное тестирование

#### Базовые механики
- [ ] **Движение игрока**
  - WASD работает корректно
  - Коллизии со стенами
  - Плавность движения
  
- [ ] **Переходы между этажами**
  - Вход в подземелье с чердака
  - Переход вниз (красный круг)
  - Переход вверх (зелёный круг)
  - Возврат на чердак

- [ ] **Туман войны**
  - Неисследованные области скрыты
  - Исследованные области видны
  - Видимые области подсвечены
  - Враги видны только в видимой зоне

#### Система рун
- [ ] **Руна устойчивости**
  - Спавнится на каждом этаже
  - Подбирается при соприкосновении
  - Автоматически стабилизирует этаж
  - Эффект частиц при подборе

#### Система загадок
- [ ] **Генерация загадок**
  - Загадка появляется после стабилизации
  - Размещается на стене рядом с выходом
  - Визуальный индикатор (?)
  
- [ ] **Решение загадок**
  - GUI открывается по E
  - Можно вводить ответ
  - Правильный ответ принимается
  - Неправильный ответ отклоняется
  - ESC закрывает окно

#### Инвентарь и предметы
- [ ] **Инвентарь**
  - Открывается по I
  - Показывает все предметы
  - Навигация стрелками
  - Экипировка оружия (Enter)
  - Использование расходников (Enter)
  
- [ ] **Предметы**
  - 3-5 предметов на этаже
  - Автоматический подбор
  - Стакаются правильно
  - Редкость отображается цветом
  - Эффект частиц при подборе

- [ ] **Хранилище**
  - Открывается по T на чердаке
  - Две панели (инвентарь/сундук)
  - Tab переключает панели
  - Enter перемещает предметы
  - Сохраняется между сессиями

#### Боевая система
- [ ] **Атака игрока**
  - Пробел/A атакует
  - Урон зависит от оружия
  - Кулдаун 0.5 сек
  - Эффект частиц крови
  - Числа урона отображаются
  
- [ ] **Враги**
  - Спавнятся на этажах (2-8 штук)
  - AI патрулирует
  - Обнаруживают игрока
  - Преследуют игрока
  - Атакуют автоматически
  - Умирают при 0 HP
  - Большой эффект при смерти
  
- [ ] **Типы врагов**
  - Крыса (1+ этаж)
  - Зомби (3+ этаж)
  - Призрак (8+ этаж)
  - Мутант (15+ этаж)

- [ ] **Смерть игрока**
  - Экран смерти 3 секунды
  - Респавн на чердаке
  - Полное HP/выносливость
  - Враги остаются на этажах

#### Система сохранений
- [ ] **Сохранение (F5)**
  - Работает только на чердаке
  - Сохраняет позицию игрока
  - Сохраняет инвентарь
  - Сохраняет стабилизированные этажи
  - Сохраняет хранилище
  
- [ ] **Загрузка (F9)**
  - Восстанавливает всё состояние
  - Работает из любой локации
  - Стабилизированные этажи неизменны
  - Нестабилизированные генерируются заново

#### Сюжет
- [ ] **Вступительный диалог**
  - Показывается на чердаке
  - Только один раз
  - Объясняет механики
  
- [ ] **Диалог на 10 этаже**
  - Показывается при входе
  - Только один раз
  - Философский контент
  
- [ ] **Финальный диалог**
  - Показывается на 20 этаже
  - После стабилизации
  - Два варианта концовки
  - Флаги сохраняются

---

### 2.2 Тестирование производительности

#### Метрики FPS
- [ ] **Чердак**: FPS > 60
- [ ] **Маленький этаж**: FPS > 60
- [ ] **Большой этаж**: FPS > 45
- [ ] **Много врагов (8)**: FPS > 30
- [ ] **Много частиц (100+)**: FPS > 30

#### Использование памяти
- [ ] Старт игры: < 100 MB
- [ ] После 10 этажей: < 200 MB
- [ ] После 20 этажей: < 300 MB
- [ ] Нет утечек памяти

#### Время загрузки
- [ ] Запуск игры: < 3 сек
- [ ] Генерация этажа: < 1 сек
- [ ] Загрузка сохранения: < 2 сек
- [ ] Переход между этажами: < 0.5 сек

---

### 2.3 Тестирование баланса

#### Сложность
- [ ] **Этажи 1-5**: Легко (1-2 врага, слабые)
- [ ] **Этажи 6-10**: Средне (3-4 врага, средние)
- [ ] **Этажи 11-15**: Сложно (5-6 врагов, сильные)
- [ ] **Этажи 16-20**: Очень сложно (7-8 врагов, очень сильные)

#### Экономика предметов
- [ ] Достаточно бинтов для лечения
- [ ] Оружие улучшается постепенно
- [ ] Редкие предметы действительно редкие
- [ ] Хранилище не переполняется

#### Прогрессия
- [ ] Первые 5 этажей проходятся за 10-15 мин
- [ ] Полное прохождение: 2-3 часа
- [ ] Смерть не слишком наказывает
- [ ] Есть мотивация продолжать

---

### 2.4 Тестирование UI/UX

#### Интерфейсы
- [ ] **HUD**
  - Читаемый
  - Не загромождает экран
  - Вся важная информация видна
  
- [ ] **Инвентарь**
  - Интуитивный
  - Быстрая навигация
  - Понятные иконки
  
- [ ] **Диалоги**
  - Читаемый текст
  - Понятные варианты выбора
  - Не слишком длинные

#### Подсказки
- [ ] Все клавиши объяснены
- [ ] Подсказки не мешают
- [ ] Можно понять механики без документации

---

### 2.5 Стресс-тестирование

#### Граничные случаи
- [ ] Полный инвентарь (20 слотов)
- [ ] Полное хранилище (50 слотов)
- [ ] Все 20 этажей стабилизированы
- [ ] Максимум врагов (8 на этаже)
- [ ] Максимум частиц (200+)

#### Некорректное использование
- [ ] Спам клавиш
- [ ] Быстрое переключение UI
- [ ] Сохранение во время боя
- [ ] Загрузка во время диалога

---

## 3. Тестовые сценарии

### 3.1 Полное прохождение
**Цель**: Пройти игру от начала до конца

**Шаги**:
1. Запустить игру
2. Прочитать вступительный диалог
3. Спуститься на этаж 1
4. Найти и собрать руну устойчивости
5. Решить загадку
6. Повторить для этажей 2-20
7. Прочитать финальный диалог
8. Выбрать концовку

**Ожидаемый результат**: Игра проходится без ошибок

---

### 3.2 Тест сохранений
**Цель**: Проверить систему сохранений

**Шаги**:
1. Пройти 5 этажей
2. Вернуться на чердак
3. Сохраниться (F5)
4. Закрыть игру
5. Запустить игру
6. Загрузиться (F9)
7. Проверить состояние

**Ожидаемый результат**: Всё восстановлено корректно

---

### 3.3 Тест боя
**Цель**: Проверить боевую систему

**Шаги**:
1. Спуститься на этаж 5
2. Найти врага
3. Атаковать до смерти
4. Дать врагу убить игрока
5. Проверить респавн

**Ожидаемый результат**: Бой работает, смерть обрабатывается

---

### 3.4 Тест инвентаря
**Цель**: Проверить систему предметов

**Шаги**:
1. Собрать 20 разных предметов
2. Экипировать оружие
3. Использовать бинт
4. Положить предметы в хранилище
5. Взять предметы обратно

**Ожидаемый результат**: Всё работает без ошибок

---

## 4. Критические баги (должны быть исправлены)

### Приоритет 1 (Блокирующие)
- [ ] Вылет игры
- [ ] Зависание
- [ ] Невозможность пройти дальше
- [ ] Потеря сохранений
- [ ] Бесконечный цикл

### Приоритет 2 (Важные)
- [ ] Враги не атакуют
- [ ] Предметы не подбираются
- [ ] Загадки не решаются
- [ ] Диалоги не показываются
- [ ] FPS < 20

### Приоритет 3 (Средние)
- [ ] Визуальные глюки
- [ ] Неправильный баланс
- [ ] Опечатки в тексте
- [ ] Неудобное управление

---

## 5. Чек-лист перед релизом

### Функциональность
- [ ] Все механики работают
- [ ] Игра проходима
- [ ] Нет критических багов
- [ ] Сохранения стабильны

### Производительность
- [ ] FPS стабильный
- [ ] Нет утечек памяти
- [ ] Быстрая загрузка

### Контент
- [ ] Все диалоги проверены
- [ ] Загадки имеют смысл
- [ ] Баланс настроен

### Документация
- [ ] README.md актуален
- [ ] Управление описано
- [ ] Системные требования указаны

---

## 6. Инструменты тестирования

### Автоматизация
- [ ] Pytest для юнит-тестов
- [ ] Скрипты для стресс-тестов
- [ ] Профилирование производительности

### Ручное тестирование
- [ ] Чек-листы
- [ ] Таблица багов
- [ ] Отчёты о прохождении

---

## 7. График тестирования

### Неделя 1: Функциональное тестирование
- Дни 1-2: Базовые механики
- Дни 3-4: Боевая система
- Дни 5-7: Инвентарь и сохранения

### Неделя 2: Производительность и баланс
- Дни 1-3: Оптимизация
- Дни 4-5: Настройка баланса
- Дни 6-7: Полное прохождение

### Неделя 3: Финальная проверка
- Дни 1-3: Исправление багов
- Дни 4-5: Повторное тестирование
- Дни 6-7: Подготовка к релизу

---

## 8. Отчётность

### Формат отчёта о баге
```
ID: BUG-001
Приоритет: [1/2/3]
Компонент: [Движение/Бой/UI/и т.д.]
Описание: [Что произошло]
Шаги воспроизведения: [1. 2. 3.]
Ожидаемый результат: [Что должно быть]
Фактический результат: [Что получилось]
Скриншот/Видео: [Ссылка]
Статус: [Открыт/В работе/Исправлен/Закрыт]
```

### Метрики
- Количество найденных багов
- Количество исправленных багов
- Среднее время исправления
- Процент покрытия тестами
