# Техническое задание: Подземелье НИИЧАВО

## 1. Общие сведения

### 1.1 Название проекта
**"Подземелье НИИЧАВО"** - roguelike игра с элементами выживания и RPG

### 1.2 Основание для разработки
Создание уникальной браузерной игры, вдохновленной произведениями братьев Стругацких, с акцентом на атмосферу, исследование и выживание.

### 1.3 Цель разработки
Создать полнофункциональную roguelike игру с процедурной генерацией уровней, системой боя, крафта и развития персонажа.

### 1.4 Целевая аудитория
- Любители roguelike игр
- Фанаты творчества братьев Стругацких
- Игроки, предпочитающие тактический геймплей
- Возраст: 14+

---

## 2. Требования к функциональности

### 2.1 Основной геймплей

#### 2.1.1 Система уровней
- **Обязательно:**
  - Процедурная генерация 20+ уровней
  - Специальные локации (Чердак, лаборатории, секретные комнаты)
  - Система входов/выходов и лестниц
  - Различные типы помещений (коридоры, залы, комнаты)
  
- **Желательно:**
  - Тематические зоны (лавовые пещеры, ледяные секции, затопленные области)
  - Динамические события на уровнях
  - Разрушаемое окружение

#### 2.1.2 Персонаж игрока
- **Характеристики:**
  - Здоровье (HP)
  - Выносливость (Stamina)
  - Жажда (Thirst)
  - Голод (Hunger)
  - Ясность ума (Clarity) - для магии
  
- **Система инвентаря:**
  - Рюкзак (минимум 10 слотов)
  - Быстрый доступ (5 слотов)
  - Экипировка (оружие, броня, аксессуары)
  
- **Развитие:**
  - Система опыта и уровней
  - Навыки и перки
  - Характеристики (сила, ловкость, интеллект)

#### 2.1.3 Система боя
- **Типы боя:**
  - Ближний бой (холодное оружие, рукопашная)
  - Дальний бой (огнестрельное оружие, метательное)
  - Магический бой (заклинания, артефакты)
  
- **Враги:**
  - Обычные мобы (мутанты, существа)
  - Элитные противники
  - Боссы с уникальными механиками
  
- **AI противников:**
  - Патрулирование
  - Обнаружение игрока
  - Преследование
  - Тактическое поведение
  - Использование укрытий

#### 2.1.4 Система крафта
- **Категории предметов:**
  - Оружие и броня
  - Расходуемые предметы (еда, зелья)
  - Инструменты
  - Магические артефакты
  
- **Станции крафта:**
  - Верстак (базовые предметы)
  - Кузница (оружие, броня)
  - Алхимическая лаборатория (зелья, магические предметы)
  
- **Материалы:**
  - Обычные (металл, дерево, ткань)
  - Редкие (кристаллы, драгметаллы)
  - Магические (эссенции, руны)

#### 2.1.5 Система квестов
- Главный сюжет (поиск артефакта, выход из подземелья)
- Побочные квесты от NPC
- Случайные события и задания
- Достижения

### 2.2 Интерфейс пользователя

#### 2.2.1 Главное меню
- Новая игра
- Продолжить
- Загрузить игру
- Настройки
- Статистика/Достижения
- Выход

#### 2.2.2 Игровой интерфейс
- Игровое поле (основной canvas)
- Панель характеристик (HP, Stamina, Clarity)
- Инвентарь
- Мини-карта
- Журнал сообщений
- Панель быстрого доступа

#### 2.2.3 Меню паузы
- Продолжить
- Инвентарь
- Карта
- Квесты
- Настройки
- Сохранить
- Выход в меню

### 2.3 Система сохранений
- Автосохранение (каждые N минут)
- Ручное сохранение (в безопасных зонах)
- Множественные слоты сохранений (минимум 3)
- Облачные сохранения (опционально)

---

## 3. Технические требования

### 3.1 Платформа
- **Основная:** Desktop (Windows, macOS, Linux)
- **Распространение:** Steam, itch.io, GOG
- **Дополнительно:** Возможность веб-версии через Pygbag (экспериментально)

### 3.2 Технологический стек

#### 3.2.1 Основа (Python Desktop)
- **Обязательно:**
  - Python 3.11+
  - Pygame 2.5+ или Arcade 2.6+
  - NumPy для оптимизации
  
- **Рекомендуется:**
  - Type hints для типобезопасности
  - PyInstaller для упаковки
  - Pydantic для валидации данных

#### 3.2.2 Backend (опционально, для будущего)
- Python FastAPI для REST API
- SQLite/PostgreSQL для лидербордов
- WebSocket для мультиплеера (будущее развитие)

#### 3.2.3 Инструменты разработки
- Git для контроля версий
- Black/Flake8 для качества кода
- Pytest для тестирования
- GitHub Actions для CI/CD

### 3.3 Производительность
- FPS: минимум 30, целевой 60
- Время загрузки: не более 5 секунд
- Размер игры: не более 50 МБ
- Поддержка разрешений: от 1280x720 до 4K

### 3.4 Совместимость
- Windows 10/11 (64-bit)
- macOS 10.15+ (Intel и Apple Silicon)
- Linux (Ubuntu 20.04+, Debian, Fedora)
- Минимальные требования: 4GB RAM, 500MB свободного места

---

## 4. Требования к дизайну

### 4.1 Визуальный стиль
- Пиксель-арт или изометрическая графика
- Темная, атмосферная палитра
- Анимации персонажей и эффектов
- Система освещения и теней

### 4.2 Звуковое оформление
- Фоновая музыка (несколько треков для разных зон)
- Звуковые эффекты (шаги, атаки, окружение)
- Регулировка громкости отдельно для музыки и эффектов

### 4.3 UI/UX
- Интуитивно понятный интерфейс
- Подсказки для новых игроков
- Настраиваемые горячие клавиши
- Поддержка геймпада (опционально)

---

## 5. Этапы разработки

### Этап 1: Фундамент (2-3 месяца)
- Рефакторинг существующего кода
- Модульная архитектура
- Улучшенная генерация уровней
- Базовая система боя

### Этап 2: Основной контент (3-4 месяца)
- Система крафта
- Разнообразие врагов (10+ типов)
- Система квестов
- Улучшенный UI

### Этап 3: Полировка (2-3 месяца)
- Балансировка
- Оптимизация производительности
- Звук и музыка
- Тестирование

### Этап 4: Релиз (1 месяц)
- Бета-тестирование
- Исправление багов
- Маркетинг
- Публикация

---

## 6. Критерии приемки

### 6.1 Обязательные функции
- ✅ Процедурная генерация уровней
- ✅ Система боя с 3+ типами оружия
- ✅ Минимум 10 типов врагов
- ✅ Система крафта с 20+ рецептами
- ✅ Сохранение/загрузка игры
- ✅ Главный сюжет (2+ часа геймплея)

### 6.2 Качество
- Отсутствие критических багов
- Стабильная производительность (60 FPS)
- Интуитивный интерфейс
- Сбалансированный геймплей

### 6.3 Документация
- Руководство пользователя
- Техническая документация
- API документация (если применимо)

---

## 7. Риски и ограничения

### 7.1 Технические риски
- Производительность при большом количестве объектов
- Совместимость между браузерами
- Сложность балансировки процедурной генерации

### 7.2 Ресурсные ограничения
- Ограниченный бюджет на графику/звук
- Время разработки
- Размер команды

### 7.3 Меры по снижению рисков
- Регулярное тестирование производительности
- Использование проверенных библиотек
- Итеративная разработка с MVP
- Активное сообщество тестеров

---

## 8. Приложения

### 8.1 Глоссарий
- **Roguelike** - жанр игр с процедурной генерацией и перманентной смертью
- **Процедурная генерация** - автоматическое создание контента по алгоритмам
- **Canvas API** - HTML5 API для рисования графики
- **MVP** - Minimum Viable Product (минимально жизнеспособный продукт)

### 8.2 Ссылки
- Репозиторий проекта: [GitHub]
- Дизайн-документы: /Документация/
- Прототип: /Start.html
