# ะกะธััะตะผะฐ ััะฝ - ะะตัะฐะปัะฝะฐั ัะฟะตัะธัะธะบะฐัะธั

## 1. ะะฑะทะพั ัะธััะตะผั

ะัะฝั - ะบะปััะตะฒะพะน ัะปะตะผะตะฝั ะณะตะนะผะฟะปะตั, ะฒะปะธัััะธะน ะฝะฐ:
- ะฅะฐัะฐะบัะตัะธััะธะบะธ ะฟะตััะพะฝะฐะถะฐ
- ะััะปะตะดะพะฒะฐะฝะธะต ััะพะฒะฝะตะน
- ะัะพะณัะตััะธั ะธะณัั
- ะะพัััะฟ ะบ ัะธะฝะฐะปัะฝะพะผั ัะฐะนะฝะธะบั

---

## 2. ะขะธะฟั ััะฝ

### 2.1 ะัะฝั ัััะตะบัะธะฒะฝะพััะธ

#### ะะฟะธัะฐะฝะธะต
ะัะฝั, ะธะทะผะตะฝัััะธะต ัะฐัะฐะบัะตัะธััะธะบะธ ะธะณัะพะบะฐ. **ะัะตะณะดะฐ** ะธะผะตัั ะบะฐะบ ะฟะพะปะพะถะธัะตะปัะฝัะน, ัะฐะบ ะธ ะพััะธัะฐัะตะปัะฝัะน ัััะตะบั.

#### ะะตัะฐะฝะธะบะฐ
```python
@dataclass
class EfficiencyRune:
    name: str
    positive_effect: dict  # {"stat": "health", "value": +20}
    negative_effect: dict  # {"stat": "endurance", "value": -10}
    slot: Optional[str] = None  # "bracer" ะธะปะธ "belt"
    
    def is_active(self) -> bool:
        """ะัะฝะฐ ะฐะบัะธะฒะฝะฐ ัะพะปัะบะพ ะตัะปะธ ัะบะธะฟะธัะพะฒะฐะฝะฐ"""
        return self.slot is not None
```

#### ะกะปะพัั ัะบะธะฟะธัะพะฒะบะธ
- **ะะฐััะบะฐะฒะฝะธะบะธ (Bracers):** 2 ัะปะพัะฐ
- **ะะพัั (Belt):** 3 ัะปะพัะฐ
- **ะัะตะณะพ:** 5 ะฐะบัะธะฒะฝัั ััะฝ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ

#### ะัะธะผะตัั ััะฝ ัััะตะบัะธะฒะฝะพััะธ

| ะะฐะทะฒะฐะฝะธะต | ะะพะปะพะถะธัะตะปัะฝัะน ัััะตะบั | ะััะธัะฐัะตะปัะฝัะน ัััะตะบั |
|----------|---------------------|---------------------|
| ะัะฝะฐ ะะตััะตัะบะฐ | +30% ััะพะฝ | -20% ะทะฐัะธัะฐ |
| ะัะฝะฐ ะัะฝะพัะปะธะฒะพััะธ | +50 ะผะฐะบั. ะฒัะฝะพัะปะธะฒะพััั | -10% ัะบะพัะพััั |
| ะัะฝะฐ ะฏัะฝะพััะธ | +30 ััะฝะพััั ัะผะฐ | -15% ะผะฐะบั. ะทะดะพัะพะฒัะต |
| ะัะฝะฐ ะะตะณะตะฝะตัะฐัะธะธ | +2 HP/ัะตะบ | -20% ะผะฐะบั. ะฒัะฝะพัะปะธะฒะพััั |
| ะัะฝะฐ ะกะบะพัะพััะธ | +30% ัะบะพัะพััั | -10 ะผะฐะบั. ะทะดะพัะพะฒัะต |
| ะัะฝะฐ ะะฐัะธัั | +40% ะทะฐัะธัะฐ | -20% ััะพะฝ |
| ะัะฝะฐ ะฃะดะฐัะธ | +15% ัะฐะฝั ะบัะธั. ัะดะฐัะฐ | -10% ัะพัะฝะพััั |
| ะัะฝะฐ ะะพะปะพะดะฐ | ะะดะฐ ะฒะพัััะฐะฝะฐะฒะปะธะฒะฐะตั x2 | ะะพะปะพะด ะฝะฐัััะฟะฐะตั x1.5 ะฑััััะตะต |

#### ะะพะผะฑะธะฝะธัะพะฒะฐะฝะธะต
```python
class RuneCombination:
    """ะกะธััะตะผะฐ ะบะพะผะฑะธะฝะธัะพะฒะฐะฝะธั ััะฝ"""
    
    SYNERGIES = {
        ("ะะตััะตัะบ", "ะะตะณะตะฝะตัะฐัะธั"): {
            "bonus": "ะัะพะฒะพะถะฐะดะฝะพััั",
            "effect": "ะะพัััะฐะฝะพะฒะปะตะฝะธะต ะทะดะพัะพะฒัั ะฟัะธ ัะฑะธะนััะฒะต"
        },
        ("ะัะฝะพัะปะธะฒะพััั", "ะกะบะพัะพััั"): {
            "bonus": "ะะฐัะฐัะพะฝะตั",
            "effect": "ะะตะณ ะฝะต ััะฐัะธั ะฒัะฝะพัะปะธะฒะพััั"
        },
        ("ะฏัะฝะพััั", "ะฃะดะฐัะฐ"): {
            "bonus": "ะะทะฐัะตะฝะธะต",
            "effect": "ะจะฐะฝั ะฑะตัะฟะปะฐัะฝะพะณะพ ะบะฐััะฐ ะทะฐะบะปะธะฝะฐะฝะธั"
        }
    }
    
    @staticmethod
    def check_synergy(rune1: str, rune2: str) -> Optional[dict]:
        """ะัะพะฒะตัะบะฐ ัะธะฝะตัะณะธะธ ะผะตะถะดั ััะฝะฐะผะธ"""
        key = tuple(sorted([rune1, rune2]))
        return RuneCombination.SYNERGIES.get(key)
```

#### ะฅัะฐะฝะตะฝะธะต ะธ ัะผะตััั
- โ **ะกะพััะฐะฝััััั ะฒ ััะบะทะฐะบะต** ะฟะพัะปะต ัะผะตััะธ
- โ **ะะต ะธััะตะทะฐัั** ะฟัะธ ัะผะตััะธ ะฟะตััะพะฝะฐะถะฐ
- โ **ะะต ะฐะบัะธะฒะฝั** ะฒ ััะบะทะฐะบะต
- โ **ะะพะถะฝะพ ะฟะตัะตัะบะธะฟะธัะพะฒะฐัั** ะฒ ะปัะฑะพะน ะผะพะผะตะฝั

---

### 2.2 ะัะฝะฐ ะบะฐััะฐ-ะบะปัั

#### ะะฟะธัะฐะฝะธะต
ะกะฟะตัะธะฐะปัะฝะฐั ััะฝะฐ ะดะปั ะพะฑะฝะฐััะถะตะฝะธั ัะฐะนะฝัั ะบะพะผะฝะฐั ะธ ะฟัะพัะพะดะพะฒ.

#### ะะตัะฐะฝะธะบะฐ
```python
@dataclass
class MapKeyRune:
    name: str = "ะัะฝะฐ ะบะฐััะฐ-ะบะปัั"
    detection_radius: int = 10  # ะะฐะดะธัั ะพะฑะฝะฐััะถะตะฝะธั ะฒ ะบะปะตัะบะฐั
    duration: int = 30  # ะะปะธัะตะปัะฝะพััั ัััะตะบัะฐ ะฒ ัะตะบัะฝะดะฐั
    cooldown: int = 60  # ะัะตะผั ะฒะพัััะฐะฝะพะฒะปะตะฝะธั
    charges: int = 3  # ะะพะปะธัะตััะฒะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธะน
    
    def activate(self, player_pos: tuple[int, int], level) -> List[tuple[int, int]]:
        """ะะบัะธะฒะฐัะธั ััะฝั - ะฟะพะดัะฒะตัะธะฒะฐะตั ัะฐะนะฝัะต ะพะฑัะตะบัั"""
        secret_objects = []
        x, y = player_pos
        
        for dx in range(-self.detection_radius, self.detection_radius + 1):
            for dy in range(-self.detection_radius, self.detection_radius + 1):
                check_x, check_y = x + dx, y + dy
                
                # ะัะพะฒะตัะบะฐ ะฝะฐ ัะฐะนะฝัะต ะพะฑัะตะบัั
                if level.is_secret_room(check_x, check_y):
                    secret_objects.append((check_x, check_y))
                elif level.is_secret_passage(check_x, check_y):
                    secret_objects.append((check_x, check_y))
                    
        self.charges -= 1
        return secret_objects
```

#### ะะธะทัะฐะปัะฝัะน ัััะตะบั
- ะขะฐะนะฝัะต ะบะพะผะฝะฐัั ะฟะพะดัะฒะตัะธะฒะฐัััั **ะทะพะปะพััะผ** ัะฒะตัะพะผ
- ะขะฐะนะฝัะต ะฟัะพัะพะดั ะฟะพะดัะฒะตัะธะฒะฐัััั **ัะธะฝะธะผ** ัะฒะตัะพะผ
- ะญััะตะบั ะดะปะธััั 30 ัะตะบัะฝะด
- ะัะปััะธััััะฐั ะฐะฝะธะผะฐัะธั

#### ะะพะปััะตะฝะธะต
- ะะฐัะพะดะธััั ะฝะฐ **ัะปััะฐะนะฝัั ััะฐะถะฐั** (5, 10, 15)
- ะะพะถะฝะพ **ะบัะฟะธัั ั NPC** ะทะฐ ะฑะพะปัััั ััะผะผั
- **ะัะฐัั:** 3 ััะฝั ัััะตะบัะธะฒะฝะพััะธ + ัะฟะตัะธะฐะปัะฝัะน ะบัะธััะฐะปะป

---

### 2.3 ะัะฝะฐ ัััะพะนัะธะฒะพััะธ (ะกัะฐะฑะธะปะธะทะฐัะธะธ)

#### ะะฟะธัะฐะฝะธะต
ะะปััะตะฒะฐั ััะฝะฐ ะดะปั ะฟัะพะณัะตััะธะธ. ะกัะฐะฑะธะปะธะทะธััะตั ััะฐะถ ะธ ะพัะบััะฒะฐะตั ะทะฐะณะฐะดะบั.

#### ะะตัะฐะฝะธะบะฐ ััะฐะฑะธะปะธะทะฐัะธะธ
```python
@dataclass
class StabilityRune:
    name: str = "ะัะฝะฐ ัััะพะนัะธะฒะพััะธ"
    floor: int  # ะะฐ ะบะฐะบะพะผ ััะฐะถะต ะฝะฐะนะดะตะฝะฐ
    used: bool = False
    
    def stabilize_floor(self, floor_state: FloorState, level) -> dict:
        """ะกัะฐะฑะธะปะธะทะฐัะธั ััะฐะถะฐ"""
        if self.used:
            return {"success": False, "message": "ะัะฝะฐ ัะถะต ะธัะฟะพะปัะทะพะฒะฐะฝะฐ"}
            
        # ะกัะฐะฑะธะปะธะทะธััะตะผ ััะฐะถ
        floor_state.is_stabilized = True
        floor_state.level_data = level.data.copy()
        
        # ะะตะฝะตัะธััะตะผ ะทะฐะณะฐะดะบั
        riddle = self._generate_riddle(self.floor)
        
        # ะะฐะทะผะตัะฐะตะผ ะฝะฐะดะฟะธัั ะฝะฐ ััะตะฝะต
        wall_position = self._find_wall_for_riddle(level)
        level.place_riddle(wall_position, riddle)
        
        self.used = True
        
        return {
            "success": True,
            "riddle": riddle,
            "wall_position": wall_position
        }
    
    def _generate_riddle(self, floor: int) -> dict:
        """ะะตะฝะตัะฐัะธั ะทะฐะณะฐะดะบะธ ะดะปั ััะฐะถะฐ"""
        # ะะฐะณะฐะดะบะฐ ัะพะดะตัะถะธั 3 ัะฐััะธ ะธะฝัะพัะผะฐัะธะธ
        return {
            "coordinates_hint": self._get_coordinate_hint(floor),
            "activation_method": self._get_activation_hint(floor),
            "cipher_part": self._get_cipher_part(floor)
        }
```

#### ะญััะตะบัั ััะฐะฑะธะปะธะทะฐัะธะธ

**ะะพะปะพะถะธัะตะปัะฝัะต:**
- โ ะญัะฐะถ **ะฝะต ะณะตะฝะตัะธััะตััั ะทะฐะฝะพะฒะพ** ะฟัะธ ะฒัะพะดะต
- โ ะะพะถะฝะพ **ะทะฐะฟะพะผะฝะธัั ัะฐัะฟะพะปะพะถะตะฝะธะต** ะบะพะผะฝะฐั
- โ **ะะพัะฒะปัะตััั ะทะฐะณะฐะดะบะฐ** ะฝะฐ ััะตะฝะต
- โ ะะพะถะฝะพ **ัััะพะธัั ัััะฐัะตะณะธั** ะธััะปะตะดะพะฒะฐะฝะธั

**ะััะธัะฐัะตะปัะฝัะต:**
- โ ะัะตะดะผะตัั **ะฝะต ัะตัะฟะฐะฒะฝัััั**
- โ ะัะฐะณะธ **ะฝะต ัะตัะฟะฐะฒะฝัััั**
- โ ะะพะฒััะบะธ **ะฝะต ะฒะพัััะฐะฝะฐะฒะปะธะฒะฐัััั**
- โ NPC **ะพััะฐัััั ะฝะฐ ะผะตััะต** (ะฝะต ะฟะพัะฒะปััััั ะฝะพะฒัะต)

#### ะะธะทัะฐะปัะฝัะต ะธะทะผะตะฝะตะฝะธั
```python
class StabilizedFloorEffects:
    """ะะธะทัะฐะปัะฝัะต ัััะตะบัั ััะฐะฑะธะปะธะทะธัะพะฒะฐะฝะฝะพะณะพ ััะฐะถะฐ"""
    
    @staticmethod
    def apply_visual_changes(level):
        # ะกัะตะฝั ััะฐะฝะพะฒัััั ะฑะพะปะตะต "ัะฒะตัะดัะผะธ" (ะดััะณะฐั ัะตะบััััะฐ)
        level.wall_texture = "stable_wall.png"
        
        # ะะพัะฒะปัะตััั ัะปะฐะฑะพะต ัะฒะตัะตะฝะธะต
        level.ambient_light += 0.1
        
        # ะะฐะดะฟะธัั ะฝะฐ ััะตะฝะต ัะฒะตัะธััั
        level.riddle_glow = True
        
        # ะงะฐััะธัั ััะฐะฑะธะปะธะทะฐัะธะธ (ะพะดะธะฝ ัะฐะท ะฟัะธ ะฐะบัะธะฒะฐัะธะธ)
        spawn_particles("stabilization", duration=3.0)
```

---

## 3. ะะฐะณะฐะดะบะธ ะฝะฐ ััะตะฝะฐั

### 3.1 ะกัััะบัััะฐ ะทะฐะณะฐะดะบะธ

ะะฐะถะดะฐั ะทะฐะณะฐะดะบะฐ ัะพะดะตัะถะธั **3 ัะฐััะธ ะธะฝัะพัะผะฐัะธะธ**:

```python
@dataclass
class RiddleData:
    # 1. ะะพะดัะบะฐะทะบะฐ ะพ ะบะพะพัะดะธะฝะฐัะฐั
    coordinate_hint: str
    
    # 2. ะกะฟะพัะพะฑ ะฐะบัะธะฒะฐัะธะธ ัะฐะนะฝะธะบะฐ
    activation_method: str
    
    # 3. ะงะฐััั ัะธััะฐ ะดะปั ะทะฐะผะบะฐ
    cipher_part: str
    
    # ะะตัะฐะดะฐะฝะฝัะต
    floor: int
    difficulty: str  # "easy", "medium", "hard"
```

### 3.2 ะัะธะผะตัั ะทะฐะณะฐะดะพะบ

#### ะญัะฐะถ 1 (ะะตะณะบะฐั)
```
ะะพะพัะดะธะฝะฐัั:
"ะขะฐะผ, ะณะดะต ัะตะฝะธ ะฟะตัะตัะตะบะฐัััั ะดะฒะฐะถะดั,
ะะฐ ัะฐัััะพัะฝะธะธ ะดะตัััะธ ัะฐะณะพะฒ ะพั ะฒัะพะดะฐ."

ะะบัะธะฒะฐัะธั:
"ะขัะธ ัะฒะตัะธ ะทะฐะถะณะธ ะฟะพ ะบััะณั,
ะ ะดะฒะตัั ะพัะบัะพะตััั ะบ ัััั."

ะจะธัั:
"ะะตัะฒะฐั ะฑัะบะฒะฐ - ะ"
```

#### ะญัะฐะถ 10 (ะกัะตะดะฝัั)
```
ะะพะพัะดะธะฝะฐัั:
"X ัะฐะฒะตะฝ ััะผะผะต ััะฐะถะตะน, ะณะดะต ะฝะฐัะตะป ัั ััะฝั ะพะณะฝั,
Y - ะฟัะพะธะทะฒะตะดะตะฝะธะต ะปัะดะฐ ะธ ะผะพะปะฝะธะธ ะดะตะปั."

ะะบัะธะฒะฐัะธั:
"ะัะฝั ะบะฐััั ะฟัะธะผะตะฝะธ ััะธะถะดั ะฒ ัะตะฝััะต ะทะฐะปะฐ,
ะงัะพะฑ ัะฐะนะฝะฐ ะฝะฐะบะพะฝะตั ะฟัะตะดััะฐะปะฐ."

ะจะธัั:
"ะััะฐั ะฑัะบะฒะฐ - ะ, ัะตะดัะผะฐั - ะ"
```

#### ะญัะฐะถ 20 (ะกะปะพะถะฝะฐั)
```
ะะพะพัะดะธะฝะฐัั:
"ะคะธะฑะพะฝะฐััะธ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ะฒะพะทัะผะธ,
ะงะธัะปะพ ััะฐะถะฐ ัะผะฝะพะถั ะฝะฐ ััะธ,
ะััะฐัะพะบ ะพั ะดะตะปะตะฝะธั ะฝะฐ ัะธัะธะฝั ะบะฐััั -
ะะพั X ะบะพะพัะดะธะฝะฐัะฐ, ะฝะต ะทะฐะฑัะดั ะฐะทะฐััั."

ะะบัะธะฒะฐัะธั:
"ะััั ััะฝ ัััะตะบัะธะฒะฝะพััะธ ะฒ ะฟะตะฝัะฐะณัะฐะผะผั ัะปะพะถะธ,
ะัะพะฒัั ัะฒะพะตะน ะบะฐะถะดัั ะพะบัะพะฟะธ,
ะะฐะบะปะธะฝะฐะฝะธะต ะดัะตะฒะฝะตะต ะฟัะพััะธ -
ะ ะฟััั ะบ ัะพะบัะพะฒะธัั ะฝะฐะนะดะธ."

ะจะธัั:
"ะะพัะปะตะดะฝะธะต ััะธ ะฑัะบะฒั - ะข, ะ, ะ"
```

### 3.3 ะกะธััะตะผะฐ ะพัะพะฑัะฐะถะตะฝะธั

```python
class RiddleDisplay:
    """ะัะพะฑัะฐะถะตะฝะธะต ะทะฐะณะฐะดะบะธ ะฝะฐ ััะตะฝะต"""
    
    def __init__(self, riddle: RiddleData, position: tuple[int, int]):
        self.riddle = riddle
        self.position = position
        self.discovered = False
        
    def render(self, screen, camera):
        """ะััะธัะพะฒะบะฐ ะทะฐะณะฐะดะบะธ"""
        if not self.discovered:
            # ะะพะบะฐะทัะฒะฐะตะผ ัะพะปัะบะพ ะฝะฐะผะตะบ
            draw_text(screen, "ะัะตะฒะฝัั ะฝะฐะดะฟะธัั...", self.position)
        else:
            # ะะพะบะฐะทัะฒะฐะตะผ ะฟะพะปะฝัะน ัะตะบัั
            self._render_full_riddle(screen)
            
    def discover(self):
        """ะะณัะพะบ ะฟัะพัะธัะฐะป ะทะฐะณะฐะดะบั"""
        self.discovered = True
        # ะะพะฑะฐะฒะปัะตะผ ะฒ ะถััะฝะฐะป
        add_to_journal(self.riddle)
```

---

## 4. ะะปะฐะฒะฝัะน ัะฐะนะฝะธะบ

### 4.1 ะะฝะพะณะพัััะฟะตะฝัะฐััะน ะดะพัััะฟ

ะะปั ะพัะบัััะธั ะณะปะฐะฒะฝะพะณะพ ัะฐะนะฝะธะบะฐ ะฝัะถะฝะพ:

1. **ะกะพะฑัะฐัั ะฒัะต ะทะฐะณะฐะดะบะธ** (ััะฐะฑะธะปะธะทะธัะพะฒะฐัั ะฒัะต ััะฐะถะธ)
2. **ะััะธัะปะธัั ะบะพะพัะดะธะฝะฐัั** (ัะตัะธัั ะผะฐัะตะผะฐัะธัะตัะบัั ัะฐััั)
3. **ะฃะทะฝะฐัั ัะฟะพัะพะฑ ะฐะบัะธะฒะฐัะธะธ** (ัะพะฑัะฐัั ะฟะพะดัะบะฐะทะบะธ)
4. **ะกะพะฑัะฐัั ัะธัั** (ะธะท ัะฐััะตะน ะฝะฐ ัะฐะทะฝัั ััะฐะถะฐั)
5. **ะัะบัััั ะทะฐะผะพะบ** (ะฒะฒะตััะธ ะบะพะด)

```python
class MainVaultAccess:
    """ะกะธััะตะผะฐ ะดะพัััะฟะฐ ะบ ะณะปะฐะฒะฝะพะผั ัะฐะนะฝะธะบั"""
    
    def __init__(self):
        self.riddles_collected = []
        self.coordinates_solved = False
        self.activation_known = False
        self.cipher_complete = False
        
    def check_access(self) -> dict:
        """ะัะพะฒะตัะบะฐ ะฒะพะทะผะพะถะฝะพััะธ ะดะพัััะฟะฐ"""
        total_riddles = 20  # ะัะตะณะพ ััะฐะถะตะน
        
        progress = {
            "riddles": len(self.riddles_collected),
            "total": total_riddles,
            "coordinates": self.coordinates_solved,
            "activation": self.activation_known,
            "cipher": self.cipher_complete
        }
        
        can_access = (
            len(self.riddles_collected) >= total_riddles and
            self.coordinates_solved and
            self.activation_known and
            self.cipher_complete
        )
        
        return {
            "can_access": can_access,
            "progress": progress,
            "missing": self._get_missing_requirements()
        }
    
    def _get_missing_requirements(self) -> List[str]:
        """ะงัะพ ะตัะต ะฝัะถะฝะพ ะดะปั ะดะพัััะฟะฐ"""
        missing = []
        
        if len(self.riddles_collected) < 20:
            missing.append(f"ะะฐะณะฐะดะพะบ: {len(self.riddles_collected)}/20")
        if not self.coordinates_solved:
            missing.append("ะะต ะฒััะธัะปะตะฝั ะบะพะพัะดะธะฝะฐัั")
        if not self.activation_known:
            missing.append("ะะตะธะทะฒะตััะตะฝ ัะฟะพัะพะฑ ะฐะบัะธะฒะฐัะธะธ")
        if not self.cipher_complete:
            missing.append("ะะตะฟะพะปะฝัะน ัะธัั")
            
        return missing
```

### 4.2 ะัะพัะตัั ะพัะบัััะธั

```python
class VaultOpening:
    """ะัะพัะตัั ะพัะบัััะธั ัะฐะนะฝะธะบะฐ"""
    
    def attempt_open(
        self, 
        coordinates: tuple[int, int],
        activation_items: List[str],
        cipher_code: str
    ) -> dict:
        """ะะพะฟััะบะฐ ะพัะบัััั ัะฐะนะฝะธะบ"""
        
        # ะัะพะฒะตัะบะฐ ะบะพะพัะดะธะฝะฐั
        if coordinates != self.secret_coordinates:
            return {
                "success": False,
                "message": "ะะตะฒะตัะฝัะต ะบะพะพัะดะธะฝะฐัั",
                "hint": self._get_distance_hint(coordinates)
            }
        
        # ะัะพะฒะตัะบะฐ ะฐะบัะธะฒะฐัะธะธ
        if not self._check_activation(activation_items):
            return {
                "success": False,
                "message": "ะะตะฒะตัะฝัะน ัะฟะพัะพะฑ ะฐะบัะธะฒะฐัะธะธ"
            }
        
        # ะัะพะฒะตัะบะฐ ัะธััะฐ
        if cipher_code != self.correct_cipher:
            attempts_left = self.max_attempts - self.failed_attempts
            return {
                "success": False,
                "message": f"ะะตะฒะตัะฝัะน ะบะพะด. ะััะฐะปะพัั ะฟะพะฟััะพะบ: {attempts_left}"
            }
        
        # ะฃัะฟะตั!
        return {
            "success": True,
            "message": "ะขะฐะนะฝะธะบ ะพัะบััั!",
            "treasure": self._generate_treasure()
        }
```

---

## 5. ะะฐะปะฐะฝั ะธ ะฟัะพะณัะตััะธั

### 5.1 ะะฐัะฟัะตะดะตะปะตะฝะธะต ััะฝ ะฟะพ ััะฐะถะฐะผ

| ะญัะฐะถะธ | ะัะฝั ัััะตะบัะธะฒะฝะพััะธ | ะัะฝั ะบะฐััะฐ-ะบะปัั | ะัะฝั ัััะพะนัะธะฒะพััะธ |
|-------|-------------------|-----------------|-------------------|
| 1-5   | 2-3 ะฝะฐ ััะฐะถ       | 1 (ััะฐะถ 5)      | 1 ะฝะฐ ััะฐะถ         |
| 6-10  | 1-2 ะฝะฐ ััะฐะถ       | 1 (ััะฐะถ 10)     | 1 ะฝะฐ ััะฐะถ         |
| 11-15 | 1 ะฝะฐ ััะฐะถ         | 1 (ััะฐะถ 15)     | 1 ะฝะฐ ััะฐะถ         |
| 16-20 | 0-1 ะฝะฐ ััะฐะถ       | 1 (ััะฐะถ 20)     | 1 ะฝะฐ ััะฐะถ         |

### 5.2 ะกะปะพะถะฝะพััั ะทะฐะณะฐะดะพะบ

- **ะญัะฐะถะธ 1-7:** ะัะพัััะต ะทะฐะณะฐะดะบะธ (ะฟััะผัะต ะฟะพะดัะบะฐะทะบะธ)
- **ะญัะฐะถะธ 8-14:** ะกัะตะดะฝะธะต (ััะตะฑััั ะปะพะณะธะบะธ)
- **ะญัะฐะถะธ 15-20:** ะกะปะพะถะฝัะต (ะผะฐัะตะผะฐัะธะบะฐ, ัะธััั)

### 5.3 ะะฐะณัะฐะดั ะทะฐ ััะฐะฑะธะปะธะทะฐัะธั

ะัะธ ััะฐะฑะธะปะธะทะฐัะธะธ ััะฐะถะฐ ะธะณัะพะบ ะฟะพะปััะฐะตั:
- โ ะะฐะณะฐะดะบั (ะฟัะพะณัะตัั ะบ ัะธะฝะฐะปั)
- โ ะะพะฝััะฝัะน ะพะฟัั
- โ ะกะปััะฐะนะฝัะน ะฟัะตะดะผะตั (ัะตะดะบะธะน)
- โ ะะพะทะผะพะถะฝะพััั ะฑะตะทะพะฟะฐัะฝะพ ะธััะปะตะดะพะฒะฐัั ััะฐะถ

---

## 6. UI ะดะปั ัะธััะตะผั ััะฝ

### 6.1 ะญะบัะฐะฝ ัะบะธะฟะธัะพะฒะบะธ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         ะญะะะะะะะะะ ะะฃะ              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                     โ
โ  ะะะะฃะะะะะะะ:                       โ
โ  [ะัะฝะฐ ะะตััะตัะบะฐ] [ะัััะพ]            โ
โ   +30% ััะพะฝ      โ                  โ
โ   -20% ะทะฐัะธัะฐ    โ                  โ
โ                                     โ
โ  ะะะฏะก:                              โ
โ  [ะัะฝะฐ ะัะฝะพัะปะธะฒะพััะธ] [ะัะฝะฐ ะกะบะพัะพััะธ] [ะัััะพ]โ
โ   +50 ะฒัะฝะพัะปะธะฒะพััั   +30% ัะบะพัะพััั  โ
โ   -10% ัะบะพัะพััั      -10 HP         โ
โ                                     โ
โ  ะะะขะะะะซะ ะญะคะคะะะขะซ:                  โ
โ  โข ะฃัะพะฝ: 130%                       โ
โ  โข ะะฐัะธัะฐ: 80%                      โ
โ  โข ะกะบะพัะพััั: 120%                   โ
โ  โข ะัะฝะพัะปะธะฒะพััั: +50                โ
โ  โข ะะดะพัะพะฒัะต: -10                    โ
โ                                     โ
โ  ะกะะะะะะะ:                          โ
โ  โก ะะฐัะฐัะพะฝะตั (ะัะฝะพัะปะธะฒะพััั+ะกะบะพัะพััั)โ
โ     ะะตะณ ะฝะต ััะฐัะธั ะฒัะฝะพัะปะธะฒะพััั      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 6.2 ะััะฝะฐะป ะทะฐะณะฐะดะพะบ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         ะะฃะะะะ ะะะะะะะ              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ะญัะฐะถ 1: โ ะะตัะตะฝะฐ                    โ
โ ะญัะฐะถ 2: โ ะะตัะตะฝะฐ                    โ
โ ะญัะฐะถ 3: โณ ะ ะฟัะพัะตััะต               โ
โ ะญัะฐะถ 4-20: ๐ ะะต ะฝะฐะนะดะตะฝั            โ
โ                                     โ
โ ะะะะะะะกะก ะ ะขะะะะะะฃ:                 โ
โ โโโโโโโโโโ 30%                      โ
โ                                     โ
โ โข ะะฐะณะฐะดะพะบ ัะพะฑัะฐะฝะพ: 3/20             โ
โ โข ะะพะพัะดะธะฝะฐัั: ะะต ะฒััะธัะปะตะฝั          โ
โ โข ะะบัะธะฒะฐัะธั: ะงะฐััะธัะฝะพ ะธะทะฒะตััะฝะฐ      โ
โ โข ะจะธัั: ะ__ะ___                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

ะญัะพ ะดะตัะฐะปัะฝะฐั ัะฟะตัะธัะธะบะฐัะธั ัะธััะตะผั ััะฝ! ะะพัะพะฒ ะพะฑััะดะธัั ะปัะฑัะต ะฐัะฟะตะบัั ะธะปะธ ะดะพะฑะฐะฒะธัั ะดะตัะฐะปะธ! ๐ฎ
