# Игровые системы

## Список реализованных систем

### Полностью реализовано

1. Процедурная генерация уровней
2. Система биомов
3. Чердак/База игрока
4. Интерактивные объекты
5. Система записок НИИЧАВО
6. Музыкальная система
7. Система сохранений
8. Инвентарь
9. Ловушки
10. Контейнеры

### В разработке

1. Боевая система
2. Система крафта
3. NPC и диалоги

## Процедурная генерация уровней

Алгоритм BSP:
1. Разделить пространство на области
2. Создать комнаты в листовых узлах
3. Соединить комнаты коридорами
4. Разместить объекты
5. Добавить интерактивные объекты
6. Применить биом

Параметры:
- Размер: 60x40 тайлов
- Комнаты: 5-10 на уровень
- Минимальный размер: 4x4
- Максимальный размер: 12x12

## Система биомов

Биомы по этажам:
- Dungeon (1-5): Старые лаборатории
- Catacombs (6-10): Архивы и хранилища
- Caves (11-15): Экспериментальные зоны
- Abyss (16-20+): Зона катастрофы

## Интерактивные объекты

Доски с записками:
- Символ: B (коричневый)
- Действие: E - Прочитать записку
- Генерация: 1-2 на этаж

Кости путешественников:
- Символ: S (жёлтый) или b (серый)
- Действие: E - Обыскать останки
- Содержит: Лут + записка
- Генерация: 1-4 на этаж

## Система записок НИИЧАВО

100+ записок разделены по биомам:
- Лабораторные записи (1-5)
- Архивные документы (6-10)
- Экспериментальные отчёты (11-15)
- Записи о катастрофе (16-20+)

## Музыкальная система

Темы:
- theme_splash.mp3 - Заставка
- theme_menu.mp3 - Главное меню
- theme_attic.mp3 - Чердак/База
- theme_dungeon.mp3 - Этажи 1-5
- theme_catacombs.mp3 - Этажи 6-10
- theme_caves.mp3 - Этажи 11-15
- theme_abyss.mp3 - Этажи 16-20+

Формат: MP3 (приоритет), WAV (fallback)

## Система сохранений

Профили игроков с сохранением:
- Характеристик персонажа
- Инвентаря
- Текущего этажа
- Состояний всех этажей

Формат: JSON

Версия документа: 1.0
Дата: 20.10.2025
